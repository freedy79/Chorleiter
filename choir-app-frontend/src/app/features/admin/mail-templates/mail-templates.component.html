<form [formGroup]="form" class="mail-form">
  <mat-tab-group>
    <mat-tab label="Einladung">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="inviteSubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="inviteHtmlMode"
            (change)="toggleInviteHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="inviteHtmlMode"
          formControlName="inviteBody"
        ></ckeditor>
        <textarea
          *ngIf="inviteHtmlMode"
          class="html-editor"
          formControlName="inviteBody"
        ></textarea>
        <p class="hint">
          Folgende Platzhalter werden ersetzt:
          {{'{{link}}'}}, {{'{{choir}}'}}, {{'{{invitor}}'}}, {{'{{expiry}}'}}, {{'{{first_name}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}
        </p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('invite')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('invite')">Speichern</button>
      </div>
    </mat-tab>
    <mat-tab label="Passwort vergessen">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="resetSubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="resetHtmlMode"
            (change)="toggleResetHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="resetHtmlMode"
          formControlName="resetBody"
        ></ckeditor>
        <textarea
          *ngIf="resetHtmlMode"
          class="html-editor"
          formControlName="resetBody"
        ></textarea>
        <p class="hint">
          Folgende Platzhalter werden ersetzt: {{'{{link}}'}}, {{'{{first_name}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}
        </p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('reset')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('reset')">Speichern</button>
      </div>
    </mat-tab>
    <mat-tab label="E-Mail ändern">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="emailChangeSubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="emailChangeHtmlMode"
            (change)="toggleEmailChangeHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="emailChangeHtmlMode"
          formControlName="emailChangeBody"
        ></ckeditor>
        <textarea *ngIf="emailChangeHtmlMode" class="html-editor" formControlName="emailChangeBody"></textarea>
        <p class="hint">Folgende Platzhalter werden ersetzt: {{'{{link}}'}}, {{'{{expiry}}'}}, {{'{{first_name}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}</p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('email-change')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('email-change')">Speichern</button>
      </div>
    </mat-tab>
    <mat-tab label="Verfügbarkeitsanfrage">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="availabilitySubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="availabilityHtmlMode"
            (change)="toggleAvailabilityHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="availabilityHtmlMode"
          formControlName="availabilityBody"
        ></ckeditor>
        <textarea
          *ngIf="availabilityHtmlMode"
          class="html-editor"
          formControlName="availabilityBody"
        ></textarea>
        <p class="hint">
          Folgende Platzhalter werden ersetzt: {{'{{month}}'}}, {{'{{year}}'}}, {{'{{list}}'}}, {{'{{link}}'}}, {{'{{first_name}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}
        </p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('availability-request')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('availability-request')">Speichern</button>
      </div>
    </mat-tab>
    <mat-tab label="Änderungsvorschlag">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="changeSubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="changeHtmlMode"
            (change)="toggleChangeHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="changeHtmlMode"
          formControlName="changeBody"
        ></ckeditor>
        <textarea
          *ngIf="changeHtmlMode"
          class="html-editor"
          formControlName="changeBody"
        ></textarea>
        <p class="hint">
          Folgende Platzhalter werden ersetzt: {{'{{piece}}'}}, {{'{{proposer}}'}}, {{'{{link}}'}}, {{'{{date}}'}}
        </p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('piece-change')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('piece-change')">Speichern</button>
      </div>
    </mat-tab>
    <mat-tab label="Dienstplan">
      <mat-form-field appearance="fill">
        <mat-label>Betreff</mat-label>
        <input matInput formControlName="monthlySubject" />
      </mat-form-field>
      <div class="editor-group">
        <div class="editor-header">
          <label class="editor-label">Text (HTML erlaubt)</label>
          <mat-slide-toggle
            class="html-toggle"
            [checked]="monthlyHtmlMode"
            (change)="toggleMonthlyHtml()"
            >HTML bearbeiten</mat-slide-toggle>
        </div>
        <ckeditor
          [editor]="Editor"
          [config]="editorConfig"
          [hidden]="monthlyHtmlMode"
          formControlName="monthlyBody"
        ></ckeditor>
        <textarea
          *ngIf="monthlyHtmlMode"
          class="html-editor"
          formControlName="monthlyBody"
        ></textarea>
        <p class="hint">
          Folgende Platzhalter werden ersetzt: {{'{{month}}'}}, {{'{{year}}'}}, {{'{{choir}}'}}, {{'{{link}}'}}, {{'{{date}}'}}
        </p>
      </div>
      <div class="actions">
        <button mat-raised-button color="accent" type="button" (click)="sendTest('monthly-plan')">Testmail</button>
        <button mat-raised-button color="primary" type="button" (click)="save('monthly-plan')">Speichern</button>
      </div>
    </mat-tab>
  </mat-tab-group>
</form>
