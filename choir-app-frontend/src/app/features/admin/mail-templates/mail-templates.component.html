<form [formGroup]="form" (ngSubmit)="save()" class="mail-form">
  <h3>Einladung</h3>
  <mat-form-field appearance="fill">
    <mat-label>Betreff</mat-label>
    <input matInput formControlName="inviteSubject" />
  </mat-form-field>
  <div class="editor-group">
    <div class="editor-header">
      <label class="editor-label">Text (HTML erlaubt)</label>
      <mat-slide-toggle
        class="html-toggle"
        [checked]="inviteHtmlMode"
        (change)="toggleInviteHtml()"
        >HTML bearbeiten</mat-slide-toggle
      >
    </div>
    <div *ngIf="!inviteHtmlMode" #inviteEditor class="quill-editor"></div>
    <textarea
      *ngIf="inviteHtmlMode"
      class="html-editor"
      formControlName="inviteBody"
    ></textarea>
    <p class="hint">
      Folgende Platzhalter werden ersetzt:
      {{'{{link}}'}}, {{'{{choir}}'}}, {{'{{invitor}}'}}, {{'{{expiry}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}
    </p>
  </div>
  <div class="actions">
    <button mat-raised-button color="accent" type="button" (click)="sendTest('invite')">Testmail</button>
  </div>
  <h3>Passwort vergessen</h3>
  <mat-form-field appearance="fill">
    <mat-label>Betreff</mat-label>
    <input matInput formControlName="resetSubject" />
  </mat-form-field>
  <div class="editor-group">
    <div class="editor-header">
      <label class="editor-label">Text (HTML erlaubt)</label>
      <mat-slide-toggle
        class="html-toggle"
        [checked]="resetHtmlMode"
        (change)="toggleResetHtml()"
        >HTML bearbeiten</mat-slide-toggle
      >
    </div>
    <div *ngIf="!resetHtmlMode" #resetEditor class="quill-editor"></div>
    <textarea
      *ngIf="resetHtmlMode"
      class="html-editor"
      formControlName="resetBody"
    ></textarea>
    <p class="hint">
      Folgende Platzhalter werden ersetzt: {{'{{link}}'}}, {{'{{surname}}'}}, {{'{{date}}'}}
    </p>
  </div>
  <div class="actions">
    <button mat-raised-button color="accent" type="button" (click)="sendTest('reset')">Testmail</button>
  </div>
  <div class="actions">
    <button mat-raised-button color="primary" type="submit">Speichern</button>
  </div>
</form>
