<table mat-table [dataSource]="availabilities" class="mat-elevation-z2">
  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef>Datum</th>
    <td mat-cell *matCellDef="let a">
      {{ a.date | date:'EEE dd.MM.yyyy' }}
      <span class="holiday" *ngIf="a.holidayHint"> ({{ a.holidayHint }})</span>
    </td>
  </ng-container>
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let a" [ngClass]="cellClass(a.status)">
      <mat-select [value]="a.status" (selectionChange)="setStatus(a.date, $any($event.value))">
        <mat-option value="AVAILABLE">verfügbar</mat-option>
        <mat-option value="MAYBE">verfügbar nach Absprache</mat-option>
        <mat-option value="UNAVAILABLE">nicht verfügbar</mat-option>
      </mat-select>
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
